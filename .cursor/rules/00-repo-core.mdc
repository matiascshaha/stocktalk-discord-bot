---
description: Core repo operating protocol
alwaysApply: true
---

# Core Rule: Follow Repository Protocol

Treat `AGENTS.md` as the top-level operating contract.

Before making non-trivial changes:
1. Read `docs/architecture.md`, `docs/conventions.md`, `docs/testing.md`, and `docs/runbook.md`.
2. Cite relevant evidence as `path:line` before proposing multi-file patches.
3. Keep changes scoped and avoid unrelated edits.
4. Run validation commands from `docs/runbook.md` or `scripts/validate.ps1`.
5. If durable knowledge was discovered, update `docs/ai-memory.md`.

When context is unclear, use `scripts/context-pack.ps1` and include returned references in your plan.
